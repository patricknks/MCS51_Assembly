
ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 1





       MCS-51 Family Macro Assembler   A S E M - 5 1   V 1.3
       =====================================================



	Source File:	E:\Kuliah\sem 6\SET\github\projects\8. MPU6050_LCD\SourceCode.a51
	Object File:	E:\Kuliah\sem 6\SET\github\projects\8. MPU6050_LCD\SourceCode.hex
	List File:	E:\Kuliah\sem 6\SET\github\projects\8. MPU6050_LCD\SourceCode.lst



 Line  I  Addr  Code            Source

    1:				;====================================================================
    2:				; Main.asm file generated by New Project wizard
    3:				;
    4:				; Created:   Tue May 18 2021
    5:				; Processor: AT89C51
    6:				; Compiler:  ASEM-51 (Proteus)
    7:				;====================================================================
    8:
    9:				$NOMOD51
   10:				$INCLUDE (8051.MCU)
   11: 1			;   8051 processor definition file
   12: 1			;   ==============================
   13: 1
   14: 1	N	 80	P0	DATA	080H
   15: 1	N	 81	SP	DATA	081H
   16: 1	N	 82	DPL	DATA	082H
   17: 1	N	 83	DPH	DATA	083H
   18: 1	N	 87	PCON	DATA	087H
   19: 1	N	 88	TCON	DATA	088H
   20: 1	N	 89	TMOD	DATA	089H
   21: 1	N	 8A	TL0	DATA	08AH
   22: 1	N	 8B	TL1	DATA	08BH
   23: 1	N	 8C	TH0	DATA	08CH
   24: 1	N	 8D	TH1	DATA	08DH
   25: 1	N	 90	P1	DATA	090H
   26: 1	N	 98	SCON	DATA	098H
   27: 1	N	 99	SBUF	DATA	099H
   28: 1	N	 A0	P2	DATA	0A0H
   29: 1	N	 A8	IE	DATA	0A8H
   30: 1	N	 B0	P3	DATA	0B0H
   31: 1	N	 B8	IP	DATA	0B8H
   32: 1	N	 D0	PSW	DATA	0D0H
   33: 1	N	 E0	ACC	DATA	0E0H
   34: 1	N	 F0	B	DATA	0F0H
   35: 1
   36: 1	N	 88	IT0	BIT	088H
   37: 1	N	 89	IE0	BIT	089H
   38: 1	N	 8A	IT1	BIT	08AH
   39: 1	N	 8B	IE1	BIT	08BH
   40: 1	N	 8C	TR0	BIT	08CH
   41: 1	N	 8D	TF0	BIT	08DH
   42: 1	N	 8E	TR1	BIT	08EH
   43: 1	N	 8F	TF1	BIT	08FH

ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 2



 Line  I  Addr  Code            Source

   44: 1	N	 98	RI	BIT	098H
   45: 1	N	 99	TI	BIT	099H
   46: 1	N	 9A	RB8	BIT	09AH
   47: 1	N	 9B	TB8	BIT	09BH
   48: 1	N	 9C	REN	BIT	09CH
   49: 1	N	 9D	SM2	BIT	09DH
   50: 1	N	 9E	SM1	BIT	09EH
   51: 1	N	 9F	SM0	BIT	09FH
   52: 1	N	 A8	EX0	BIT	0A8H
   53: 1	N	 A9	ET0	BIT	0A9H
   54: 1	N	 AA	EX1	BIT	0AAH
   55: 1	N	 AB	ET1	BIT	0ABH
   56: 1	N	 AC	ES	BIT	0ACH
   57: 1	N	 AF	EA	BIT	0AFH
   58: 1	N	 B0	RXD	BIT	0B0H
   59: 1	N	 B1	TXD	BIT	0B1H
   60: 1	N	 B2	INT0	BIT	0B2H
   61: 1	N	 B3	INT1	BIT	0B3H
   62: 1	N	 B4	T0	BIT	0B4H
   63: 1	N	 B5	T1	BIT	0B5H
   64: 1	N	 B6	WR	BIT	0B6H
   65: 1	N	 B7	RD	BIT	0B7H
   66: 1	N	 B8	PX0	BIT	0B8H
   67: 1	N	 B9	PT0	BIT	0B9H
   68: 1	N	 BA	PX1	BIT	0BAH
   69: 1	N	 BB	PT1	BIT	0BBH
   70: 1	N	 BC	PS	BIT	0BCH
   71: 1	N	 D0	P	BIT	0D0H
   72: 1	N	 D2	OV	BIT	0D2H
   73: 1	N	 D3	RS0	BIT	0D3H
   74: 1	N	 D4	RS1	BIT	0D4H
   75: 1	N	 D5	F0	BIT	0D5H
   76: 1	N	 D6	AC	BIT	0D6H
   77: 1	N	 D7	CY	BIT	0D7H
   78: 1
   79: 1	N      0000	RESET	CODE	000H
   80: 1	N      0003	EXTI0	CODE	003H
   81: 1	N      000B	TIMER0	CODE	00BH
   82: 1	N      0013	EXTI1	CODE	013H
   83: 1	N      001B	TIMER1	CODE	01BH
   84: 1	N      0023	SINT	CODE	023H
   85:
   86:				;====================================================================
   87:				; DEFINITIONS
   88:				;====================================================================
   89:
   90:				;====================================================================
   91:				; VARIABLES
   92:				;====================================================================
   93:
   94:				;====================================================================
   95:				; RESET and INTERRUPT VECTORS
   96:				;====================================================================
   97:
   98:				      ; Reset Vector
   99:		N      0000	      org   0000h

ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 3



 Line  I  Addr  Code            Source

  100:	  0000	02 01 00	      jmp   Start
  101:
  102:				;====================================================================
  103:				; CODE SEGMENT
  104:				;====================================================================
  105:
  106:		N      0100	      org   0100h
  107:	  0100			Start:
  108:				;###################################################################################################
				##################
  109:				;############################################## UART PARAM #########################################
				##############
  110:				;###################################################################################################
				##################
  111:	  0100	75 98 42		    mov SCON,#01000010b
  112:	  0103	75 89 21		    mov tmod,#21H
  113:	  0106	C2 8D			    clr TF0
  114:	  0108	75 8D FD		    mov th1,#-3
  115:	  010B	D2 8E			    setb tr1
  116:				;################################################ INISIASI LCD #####################################
				###################
  117:	  010D	C2 B2			    clr p3.2
  118:
  119:	  010F	D2 B3			    setb p3.3
  120:
  121:	  0111	75 90 38		    mov p1, #00111000B  ;Function Set
  122:	  0114	12 02 46		    call setn
  123:	  0117	71 A9			    acall longdelay
  124:
  125:	  0119	75 90 06		    mov p1, #00000110B ;Entry Mode
  126:	  011C	12 02 46		    call setn
  127:	  011F	71 A9			    acall longdelay
  128:
  129:	  0121	75 90 0C		    mov p1, #00001100B ;Cursor Display
  130:	  0124	12 02 46		    call setn
  131:	  0127	71 A9			    acall longdelay
  132:
  133:	  0129	75 90 01		    mov p1, #00000001B ;Clear Display
  134:	  012C	12 02 46		    call setn
  135:	  012F	71 A9			    acall longdelay
  136:
  137:
  138:				;###################################################################################################
				##################
  139:				;############################################### Power_MNG #########################################
				###############
  140:				;###################################################################################################
				##################
  141:	  0131	74 00			    mov a,#00
  142:	  0133	75 A0 03		    mov p2,#03
  143:	  0136	12 02 1F		    call sinyal_start
  144:	  0139	7A D0			    mov R2,#11010000B
  145:	  013B	EA			    mov a,R2
  146:	  013C	12 01 EB		    call sinyal_kirim
  147:	  013F	12 02 19		    call sinyal_ack
  148:	  0142	7B 6B			    mov R3,#06BH

ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 4



 Line  I  Addr  Code            Source

  149:	  0144	EB			    mov a,R3
  150:	  0145	12 01 EB		    call sinyal_kirim
  151:	  0148	12 02 19		    call sinyal_ack
  152:	  014B	7B 00			    mov R3,#00H
  153:	  014D	EB			    mov a,R3
  154:	  014E	12 01 EB		    call sinyal_kirim
  155:	  0151	12 02 19		    call sinyal_ack
  156:	  0154	12 02 31		    call sinyal_stop
  157:				;###################################################################################################
				##################
  158:				;############################################### GYRO_CNFG #########################################
				###############
  159:				;###################################################################################################
				##################
  160:	  0157	74 00			    mov a,#00
  161:	  0159	75 A0 03		    mov p2,#03
  162:	  015C	12 02 1F		    call sinyal_start
  163:	  015F	7A D0			    mov R2,#11010000B
  164:	  0161	EA			    mov a,R2
  165:	  0162	12 01 EB		    call sinyal_kirim
  166:	  0165	12 02 19		    call sinyal_ack
  167:	  0168	7B 1B			    mov R3,#01BH
  168:	  016A	EB			    mov a,R3
  169:	  016B	12 01 EB		    call sinyal_kirim
  170:	  016E	12 02 19		    call sinyal_ack
  171:	  0171	7B 00			    mov R3,#00H
  172:	  0173	EB			    mov a,R3
  173:	  0174	12 01 EB		    call sinyal_kirim
  174:	  0177	12 02 19		    call sinyal_ack
  175:	  017A	12 02 31		    call sinyal_stop
  176:
  177:				;###################################################################################################
				##################
  178:				;############################################### START LOOP ########################################
				#################
  179:				;###################################################################################################
				##################
  180:	  017D			Loop0:
  181:	  017D	75 37 02	      mov 37H, #2d
  182:	  0180	75 36 04	      mov 36H,#4d
  183:	  0183	7B 39		      mov R3,#039H
  184:	  0185	7C 57		      mov R4,#57H
  185:	  0187	12 03 7C	      call newline
  186:
  187:	  018A			Loop1:
  188:	  018A	E5 36		      mov a,36H
  189:	  018C	14		      dec a
  190:	  018D	F5 36		      mov 36H,a
  191:	  018F	0B		      inc R3
  192:	  0190	0B		      inc R3
  193:	  0191	0C		      inc R4
  194:	  0192	60 E9		      jz Loop0
  195:	  0194			Loop2:
  196:	  0194	74 00		      mov a,#00
  197:	  0196	75 A0 03	      mov p2,#03
  198:				;############################################### Start Address #####################################

ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 5



 Line  I  Addr  Code            Source

				#####################
  199:	  0199	7A D0		      mov R2,#11010000B
  200:	  019B	12 02 1F	      call sinyal_start
  201:	  019E	EA		      mov a,R2
  202:	  019F	12 01 EB	      call sinyal_kirim
  203:	  01A2	12 02 19	      call sinyal_ack
  204:	  01A5	EB		      mov a,R3
  205:	  01A6	12 01 EB	      call sinyal_kirim
  206:	  01A9	12 02 19	      call sinyal_ack
  207:				      ;call sinyal_stop
  208:
  209:				      ;mov a,#00
  210:				      ;mov p2,#03
  211:				;################################################# I2C_READ ########################################
				###################
  212:	  01AC	7A D1		      mov R2,#11010001B
  213:	  01AE	12 02 1F	      call sinyal_start
  214:	  01B1	EA		      mov a, R2
  215:	  01B2	12 01 EB	      call sinyal_kirim
  216:	  01B5	12 02 13	      call sinyal_nack
  217:	  01B8	12 02 04	      call sinyal_baca
  218:	  01BB	F5 30		      mov 30H,a
  219:	  01BD	E5 36		      mov a, 36H
  220:	  01BF	14		      dec a
  221:	  01C0	60 17		      jz min
  222:	  01C2	E5 30		      mov a,30H
  223:	  01C4			positive:
  224:	  01C4	54 80		      anl a,#10000000B
  225:	  01C6	B4 00 18	      cjne a,#00000000B, negative
  226:	  01C9	75 31 2B	      mov 31H,#02BH
  227:	  01CC	E5 30		      mov a,30H
  228:	  01CE			uart_send:
  229:	  01CE	12 02 4B	      call calculation
  230:				     ; call sinyal_nack
  231:	  01D1	12 02 31	      call sinyal_stop
  232:	  01D4	12 03 99	      call delay
  233:	  01D7	80 B1		      jmp Loop1
  234:	  01D9			min:
  235:	  01D9	E5 30		      mov a, 30H
  236:	  01DB	94 1A		      subb a,#26d
  237:	  01DD	F5 30		      mov 30H,a
  238:	  01DF	80 E3		      jmp positive
  239:	  01E1			negative:
  240:	  01E1	75 31 2D	      mov 31H,#02DH
  241:	  01E4	E5 30		      mov a,30H
  242:	  01E6	F4		      cpl a
  243:	  01E7	F5 30		      mov 30H,a
  244:	  01E9	80 E3		      jmp uart_send
  245:
  246:				;###################################################################################################
				##################
  247:				;################################################### I2C signal ####################################
				#######################
  248:				;###################################################################################################
				##################
  249:

ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 6



 Line  I  Addr  Code            Source

  250:	  01EB			sinyal_kirim:;inisiasi untuk fungsi iterasi|
												|
  251:	  01EB	79 00		      mov R1,#00;					|
														|
  252:				       ;mov A,R0;					|
														|
  253:	  01ED			kirim:		;					|
														|
  254:	  01ED	F8		 	   mov R0,A;					|
														|
  255:	  01EE	54 80			   anl A,#10000000B;			|
													|
  256:	  01F0	B4 80 05		   cjne A,#10000000B,setL;		|
													|
  257:	  01F3	D2 A1			   setb p2.1;					|
														|
  258:	  01F5	02 01 FA		   jmp pass;					|	FUNGSI UNTUK MENGIRIM DATA KE SLAVE
				SECARA BINER		|
  259:	  01F8	C2 A1		setL:  clr p2.1	   ;					|
														|
  260:	  01FA	12 02 3E	pass:  call sinyal_clock;				|
														|
  261:	  01FD	09			    inc R1;						|
															|
  262:	  01FE	E8			   mov A,R0;					|
														|
  263:	  01FF	23			   rl A;						|
															|
  264:	  0200	B9 08 EA		   cjne r1,#08, kirim;				|
														|
  265:	  0203	22			    ret;
  266:	  0204			sinyal_baca:; inisiasi untuk iterasi	|	FUNGSI UNTUK KIRIM SINYAL CLOK KE SLAVE, UNTUK MENDA
				PATKAN DATA DARI SLAVE	|
  267:	  0204	79 00			    mov R1,#00 ;				|

								|
  268:	  0206	74 00			    mov a,#00;					|

								|
  269:	  0208			loop_baca: ;untuk iterasi 8 kali clock	|-----------------------------------------------------------
				-----------------------------------------------------------------	|
  270:	  0208	A2 A1			    mov c,p2.1;					|
					FUNGSI  HANYA UNTUK MENAMPILKAN HASIL					|
  271:	  020A	33			    rlc a;						|
					   PEMBACAAN KE A TERUS NANTINYA BISA KE PORT					|
  272:	  020B	12 02 3E		    call sinyal_clock;				|-------------------------------------------
				---------------------------------------------------------------------------------	|
  273:	  020E	09			    inc R1;						|

									|
  274:	  020F	B9 08 F6		    cjne R1,#08, loop_baca;		|

							|
  275:	  0212	22			    ret;						|

									|

ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 7



 Line  I  Addr  Code            Source

  276:	  0213			sinyal_nack:
  277:	  0213	D2 A1		      setb p2.1
  278:	  0215	12 02 3E	      call sinyal_clock
  279:	  0218	22		      ret
  280:	  0219			sinyal_ack:
  281:	  0219	C2 A1		      clr p2.1
  282:	  021B	12 02 3E	      call sinyal_clock
  283:	  021E	22		      ret
  284:	  021F			sinyal_start:
  285:	  021F	D2 A0		      setb p2.0
  286:	  0221	12 03 99	      call delay
  287:	  0224	D2 A1		      setb p2.1
  288:	  0226	12 03 99	      call delay
  289:	  0229	C2 A1		      clr p2.1
  290:	  022B	12 03 99	      call delay
  291:	  022E	C2 A0		      clr p2.0
  292:	  0230	22		      ret
  293:	  0231			sinyal_stop:
  294:	  0231	D2 A0		      setb p2.0
  295:	  0233	12 03 99	      call delay
  296:	  0236	C2 A1		      clr p2.1
  297:	  0238	12 03 99	      call delay
  298:	  023B	D2 A1		      setb p2.1
  299:	  023D	22		      ret
  300:	  023E			sinyal_clock:
  301:	  023E	D2 A0		      setb p2.0
  302:	  0240	12 03 99	      call delay
  303:	  0243	C2 A0		      clr p2.0
  304:	  0245	22		      ret
  305:	  0246			setn :
  306:	  0246	C2 B3		     clr p3.3
  307:	  0248	D2 B3		     setb p3.3
  308:	  024A	22		     ret
  309:
  310:
  311:				;############################################### CALCULATION #######################################
				#########
  312:	  024B			calculation:
  313:	  024B	75 F0 02				mov b,#2d
  314:	  024E	A4					mul ab
  315:	  024F	75 F0 05				mov b,#5d
  316:	  0252	84					div ab
  317:	  0253	25 30					add a, 30h
  318:	  0255	75 F0 64				mov b,#100d
  319:	  0258	84					div ab
  320:	  0259	24 30					add a,#48d	;convert ke ascii
  321:	  025B	F5 32					mov 32h,a
  322:	  025D	E5 F0					mov a,b
  323:	  025F	75 F0 0A				mov b,#10d
  324:	  0262	84					div ab
  325:	  0263	24 30					add a,#48d	;convert ke ascii
  326:	  0265	F5 33					mov 33h,a
  327:	  0267	E5 F0					mov a,b
  328:	  0269	24 30					add a,#48d	;convert ke ascii
  329:	  026B	F5 34					mov 34h,a
  330:				;############################################## SERIAL MONITOR #####################################

ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 8



 Line  I  Addr  Code            Source

				##########
  331:	  026D	30 99 FD				jnb ti,$
  332:	  0270	D2 B2					setb p3.2
  333:	  0272	D2 B3					setb p3.3
  334:	  0274	8C 90					mov p1, R4                       ;LCD1

  335:	  0276	8C 99					mov SBUF,R4		;huruf X / Y / Z
  336:	  0278	51 46					call setn
  337:							;acall longdelay
  338:	  027A	C2 99					clr ti
  339:	  027C	30 99 FD				jnb ti,$
  340:	  027F	75 90 3A				mov p1, #3Ah
  341:	  0282	51 46					call setn
  342:							;acall longdelay
  343:	  0284	75 99 3A				mov SBUF,#3Ah	;character " : "
  344:	  0287	C2 99					clr ti
  345:	  0289	30 99 FD				jnb ti,$
  346:	  028C	75 99 20				mov SBUF,#20h	;space
  347:	  028F	C2 99					clr ti
  348:	  0291	30 99 FD				jnb ti,$
  349:	  0294	75 99 20				mov SBUF,#20h	;space
  350:	  0297	C2 99					clr ti
  351:	  0299	30 99 FD				jnb ti,$
  352:	  029C	75 99 20				mov SBUF,#20h	;space
  353:	  029F	C2 99					clr ti
  354:	  02A1	30 99 FD				jnb ti,$
  355:	  02A4	75 99 20				mov SBUF,#20h	;space
  356:	  02A7	C2 99					clr ti
  357:	  02A9	30 99 FD				jnb ti,$
  358:	  02AC	75 99 20				mov SBUF,#20h	;space
  359:	  02AF	C2 99					clr ti
  360:	  02B1	30 99 FD				jnb ti,$
  361:	  02B4	75 99 20				mov SBUF,#20h	;space
  362:	  02B7	C2 99					clr ti
  363:	  02B9	30 99 FD				jnb ti,$
  364:	  02BC	75 99 20				mov SBUF,#20h	;space
  365:	  02BF	C2 99					clr ti
  366:	  02C1	30 99 FD				jnb ti,$
  367:	  02C4	75 99 20				mov SBUF,#20h	;space
  368:	  02C7	C2 99					clr ti
  369:	  02C9	30 99 FD				jnb ti,$
  370:	  02CC	85 31 90				mov p1,31h				;LCD2
  371:	  02CF	51 46					call setn
  372:							;acall longdelay
  373:	  02D1	85 31 99				mov SBUF,31h		;character " + atau - "
  374:	  02D4	C2 99					clr ti
  375:	  02D6	30 99 FD				jnb ti,$
  376:	  02D9	85 32 90				mov p1,32h				;LCD3
  377:	  02DC	51 46					call setn
  378:							;acall longdelay
  379:	  02DE	85 32 99				mov SBUF,32h		;angka
  380:	  02E1	C2 99					clr ti
  381:	  02E3	30 99 FD				jnb ti,$
  382:	  02E6	85 33 90				mov p1,33h				;LCD4
  383:	  02E9	51 46					call setn
  384:							;acall longdelay

ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 9



 Line  I  Addr  Code            Source

  385:	  02EB	85 33 99				mov SBUF,33h		;angka
  386:	  02EE	C2 99					clr ti
  387:	  02F0	30 99 FD				jnb ti,$
  388:	  02F3	85 34 90				mov p1,34h				;LCD5
  389:	  02F6	51 46					call setn
  390:							;acall longdelay
  391:	  02F8	85 34 99				mov SBUF,34h		;angka
  392:	  02FB	C2 99					clr ti
  393:	  02FD	30 99 FD				jnb ti,$
  394:	  0300	75 90 DF				mov p1, #0DFh
  395:	  0303	51 46					call setn
  396:							;acall longdelay
  397:	  0305	75 99 2A				mov SBUF,#02ah	;character "derajat"
  398:	  0308	C2 99					clr ti
  399:	  030A	30 99 FD				jnb ti,$
  400:	  030D	75 90 20				mov p1, #20h
  401:	  0310	51 46					call setn
  402:							;acall longdelay
  403:	  0312	75 99 20				mov SBUF,#20h	;space
  404:	  0315	C2 99					clr ti
  405:	  0317	30 99 FD				jnb ti,$
  406:	  031A	75 99 20				mov SBUF,#20h	;space
  407:	  031D	C2 99					clr ti
  408:	  031F	30 99 FD				jnb ti,$
  409:	  0322	75 99 20				mov SBUF,#20h	;space
  410:	  0325	C2 99					clr ti
  411:	  0327	30 99 FD				jnb ti,$
  412:	  032A	75 99 20				mov SBUF,#20h	;space
  413:	  032D	C2 99					clr ti
  414:	  032F	30 99 FD				jnb ti,$
  415:	  0332	75 99 20				mov SBUF,#20h	;space
  416:	  0335	C2 99					clr ti
  417:	  0337	30 99 FD				jnb ti,$
  418:	  033A	75 99 20				mov SBUF,#20h	;space
  419:	  033D	C2 99					clr ti
  420:	  033F	30 99 FD				jnb ti,$
  421:	  0342	75 99 20				mov SBUF,#20h	;space
  422:	  0345	C2 99					clr ti
  423:	  0347	30 99 FD				jnb ti,$
  424:	  034A	75 99 20				mov SBUF,#20h	;space
  425:	  034D	C2 99					clr ti
  426:	  034F	30 99 FD				jnb ti,$
  427:	  0352	75 99 20				mov SBUF,#20h	;space
  428:	  0355	C2 99					clr ti
  429:	  0357	30 99 FD				jnb ti,$
  430:	  035A	75 99 20				mov SBUF,#20h	;space
  431:	  035D	C2 99					clr ti
  432:	  035F	30 99 FD				jnb ti,$
  433:	  0362	75 99 20				mov SBUF,#20h	;space
  434:	  0365	C2 99					clr ti
  435:	  0367	30 99 FD				jnb ti,$
  436:	  036A	75 99 20				mov SBUF,#20h	;space
  437:	  036D	C2 99					clr ti
  438:	  036F	D5 37 09				djnz 37H, lanjuttt
  439:	  0372	C2 B2					clr p3.2
  440:	  0374	D2 B3					setb p3.3

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 10



 Line  I  Addr  Code            Source

  441:	  0376	75 90 C0				mov p1, #0C0h
  442:	  0379	51 46					call setn
  443:	  037B	22		lanjuttt:		ret
  444:
  445:	  037C			newline:
  446:	  037C	12 03 A9	      call longdelay
  447:	  037F	C2 B2		      clr p3.2
  448:	  0381	D2 B3		      setb p3.3
  449:	  0383	75 90 01	      mov p1, #00000001B
  450:	  0386	51 46		      call setn
  451:	  0388	30 99 FD	      jnb ti,$
  452:	  038B	75 99 0A	      mov SBUF,#0AH
  453:	  038E	C2 99		      clr ti
  454:	  0390	30 99 FD	      jnb ti,$
  455:	  0393	75 99 0D	      mov SBUF,#0DH
  456:	  0396	C2 99		      clr ti
  457:	  0398	22		      ret
  458:
  459:
  460:
  461:				;################################################## Delay 1mS ######################################
				#################
  462:	  0399			delay:
  463:	  0399	75 8A 30	      mov TL0, #00110000B
  464:	  039C	75 8C FF	      mov TH0, #11111111B
  465:	  039F	D2 8C		      setb TR0
  466:	  03A1	30 8D FD	      jnb TF0, $
  467:	  03A4	C2 8D		      clr TF0
  468:	  03A6	C2 8C		      clr TR0
  469:	  03A8	22		      ret
  470:
  471:	  03A9			longdelay: ;To create a delay of 1sec ;
  472:	  03A9	7F 32		MOV R7,#32H ;100us * 100us * 100us = 1s
  473:	  03AB	7E 32		LOOOP1:MOV R6,#32H
  474:	  03AD	7D 64		LOOOP2:MOV R5,#64H
  475:	  03AF	DD FE		LOOOP3:DJNZ R5,LOOOP3
  476:	  03B1	DE FA		DJNZ R6,LOOOP2
  477:	  03B3	DF F6		DJNZ R7,LOOOP1
  478:	  03B5	22		ret
  479:				;====================================================================
  480:				      END





                     register banks used:  ---

                     no errors




ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 11





	       L I S T   O F   S Y M B O L S
	       =============================


SYMBOL				  TYPE     VALUE	LINE
------------------------------------------------------------
??ASEM_51			  NUMBER    8051
??VERSION			  NUMBER    0130
AC				  BIT	      D6	  76
ACC				  DATA	      E0	  33
B				  DATA	      F0	  34
CALCULATION			  CODE	    024B	 312
CY				  BIT	      D7	  77
DELAY				  CODE	    0399	 462
DPH				  DATA	      83	  17
DPL				  DATA	      82	  16
EA				  BIT	      AF	  57
ES				  BIT	      AC	  56
ET0				  BIT	      A9	  53
ET1				  BIT	      AB	  55
EX0				  BIT	      A8	  52
EX1				  BIT	      AA	  54
EXTI0				  CODE	    0003	  80
EXTI1				  CODE	    0013	  82
F0				  BIT	      D5	  75
IE				  DATA	      A8	  29
IE0				  BIT	      89	  37
IE1				  BIT	      8B	  39
INT0				  BIT	      B2	  60
INT1				  BIT	      B3	  61
IP				  DATA	      B8	  31
IT0				  BIT	      88	  36
IT1				  BIT	      8A	  38
KIRIM				  CODE	    01ED	 253
LANJUTTT			  CODE	    037B	 443
LONGDELAY			  CODE	    03A9	 471
LOOOP1				  CODE	    03AB	 473
LOOOP2				  CODE	    03AD	 474
LOOOP3				  CODE	    03AF	 475
LOOP0				  CODE	    017D	 180
LOOP1				  CODE	    018A	 187
LOOP2				  CODE	    0194	 195
LOOP_BACA			  CODE	    0208	 269
MIN				  CODE	    01D9	 234
NEGATIVE			  CODE	    01E1	 239
NEWLINE				  CODE	    037C	 445
OV				  BIT	      D2	  72
P				  BIT	      D0	  71
P0				  DATA	      80	  14
P1				  DATA	      90	  25
P2				  DATA	      A0	  28
P3				  DATA	      B0	  30
PASS				  CODE	    01FA	 260
PCON				  DATA	      87	  18
POSITIVE			  CODE	    01C4	 223
PS				  BIT	      BC	  70

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 12



SYMBOL				  TYPE     VALUE	LINE
------------------------------------------------------------
PSW				  DATA	      D0	  32
PT0				  BIT	      B9	  67
PT1				  BIT	      BB	  69
PX0				  BIT	      B8	  66
PX1				  BIT	      BA	  68
RB8				  BIT	      9A	  46
RD				  BIT	      B7	  65
REN				  BIT	      9C	  48
RESET				  CODE	    0000	  79
RI				  BIT	      98	  44
RS0				  BIT	      D3	  73
RS1				  BIT	      D4	  74
RXD				  BIT	      B0	  58
SBUF				  DATA	      99	  27
SCON				  DATA	      98	  26
SETL				  CODE	    01F8	 259
SETN				  CODE	    0246	 305
SINT				  CODE	    0023	  84
SINYAL_ACK			  CODE	    0219	 280
SINYAL_BACA			  CODE	    0204	 266
SINYAL_CLOCK			  CODE	    023E	 300
SINYAL_KIRIM			  CODE	    01EB	 250
SINYAL_NACK			  CODE	    0213	 276
SINYAL_START			  CODE	    021F	 284
SINYAL_STOP			  CODE	    0231	 293
SM0				  BIT	      9F	  51
SM1				  BIT	      9E	  50
SM2				  BIT	      9D	  49
SP				  DATA	      81	  15
START				  CODE	    0100	 107
T0				  BIT	      B4	  62
T1				  BIT	      B5	  63
TB8				  BIT	      9B	  47
TCON				  DATA	      88	  19
TF0				  BIT	      8D	  41
TF1				  BIT	      8F	  43
TH0				  DATA	      8C	  23
TH1				  DATA	      8D	  24
TI				  BIT	      99	  45
TIMER0				  CODE	    000B	  81
TIMER1				  CODE	    001B	  83
TL0				  DATA	      8A	  21
TL1				  DATA	      8B	  22
TMOD				  DATA	      89	  20
TR0				  BIT	      8C	  40
TR1				  BIT	      8E	  42
TXD				  BIT	      B1	  59
UART_SEND			  CODE	    01CE	 228
WR				  BIT	      B6	  64
